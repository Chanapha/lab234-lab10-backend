language: java
before_install:
- sudo rm /usr/local/bin/docker-compose
- curl -L https://github.com/docker/compose/releases/download/${DOCKER_COMPOSE_VERSION}/docker-compose-`uname
  -s`-`uname -m` > docker-compose
- chmod +x docker-compose
- sudo mv docker-compose /usr/local/bin
- docker login -u "$DOCKER_USERNAME" -p "$DOCKER_PASSWORD"
install:
- mvn install -Dmaven.javadoc.skip=true -B -V
- ls -l
- docker build --build-arg JAR_FILE=/target/backend.jar -t $DOCKER_USERNAME/se234-lab10-backend  .
- docker push 592115007/se234-lab10-backend
- docker pull 592115007/se234-lab10-client
script:
- docker-compose -H "$HOST_NAME" up -d
cache:
  directories:
  - "$HOME/.m2"
env:
  global:
  - secure: ais8w1lJbJkcCa5Lo0k9cq3BZvIQQN34dTg1YkKp0uNYLO6/6jhrMTi3EGnXQK/y7kcOGH6w4tpEXzd9w/S54PgBDsbhB0y1ALuIt6OwAa4dDt/v7LbJboC6CJyezSobKeDHTywq/4GU0HsMZXmXK7cE7VzgvrECv+0e7dNedMQmwUXm6TJaYrTtX3HGvj9C38U7H5P87ee7GzjfHSwQx2xjd8QzW2a2ySwbr1FzvLYk7tZn/B31/YVnJ7a1QW3zrgQVyY95AQYdjV6viB/4+q0OSjEzxQ0wwquMqvmD8cWh6YMn1oYaC84XaHH7pucsqpzscoKDlBLLvAhnv5TMU9IN6XdCNMd+PKlWPvfh75viIWrJ/oen7RZbIpfB13DCqoF1G1wfLh3NQoG0fNV/tROsP8ODBIu0yImqJ/gKhVvRNW1kyhvRGnP+RKsPljnpvn/KRMd2CRIrWzKQ/Kq7EsHpYSM6qf/hULhZwnIwSaUZIKkcGF2Dr5DOoM0xUrPM3OwXbyBfgVjVDid4yNvO838SSxMlcq2PEaTRV3MK5EkhgdrzrPTx7fn2AZK2Uae/SeT3t2ormWUzlT1dPJzOvkbgegSXARR5yDWuUHjctMRb8/IKPHX/KnVvh6Kla2OFpMb88OAsBZ7E/m86Zfv2stkF6S5TuMilG1Lt+56y7i8=
  - secure: GAdJid4H+iL9FZ5rW590epUcnEan746YPnV8tCgd3ntUiS/AA/IOrW+Ws3d6DHxkipCebWbptxylWDkG2JPis31TU95ujA+HdDbm2CSea9NgmN8Ysq0Mfwd2t6dO0AakSPZ2YkxfTDG+A9t4VBKlVZ4X52EIcj7n0TqiwYlZtniqLDJGsEyRg64XCpvCkwlhMwqykaFh9hJBdXY4CH33xY6OEMMP4Fpii8BlymioxC3Ost/GHHGKDtRAVQq3PDD7vA9vtxWUwJizZCAtKXcJU1+NU2N2njLXqzfmcyX8r3CA3zY2TfinGzfa6cBL9Z9M25dnSWt/e0WaGd8bFuvD3VWtbWLNA+cIToLN/lVOmhsRQ6aQOPfZsjekrOGUNOKxjb0WXdZQY60fkd4XmUEqP6wh/iqKnFEV4KhunCjX0JLCGfZjWK2Qz1KHzlk7KmKTJxIBAWkI8BQgzoyYM6BJi7TsrtVYWTrkm7KqmXddHSn4+RjeK3r3PZotwyVS4NSRrGapLPHPAzIZ+A3PedN7987j7XI0Wu0zU4XK3MllPIf/wfYteBrNwQuouW6tZiUrCcaXOm95pZ89WGcgmTpefUUP/G0zV1gFnVeLu6mVcKExpdXJ4qXYd8/t5CELUnvyLb4QsXfzk62Em02sFWeytwHlATB6PtTZrDIpw2JOtSs=
  - secure: k5DOTLdYvGti+agVkHAfs9ZAuYqdEC1us86lhXR1MLBX7OOEKRA7xXjGEuibrdTwY8JwXz7/LTqrlMYRTBU44nwnwxiao+9zdU6pn8PILs7LZbB9DcTeLKpzjlOj2a+UvL1hZdju6SIdnUKaVbEr805qBw41KUkYTYSYIbIjBCO7enWJAxwpUXUxlWmWcGk2fJjHKRRWBcVN35hN8sTaeet0Kpj01wS0t1Hhwo74pwumC3qFp4iaj0kxo8yQXnQezMP0NM+gFl3VXTLSolTHcLkLfYp9FTepAvEHClGTMSj/BFMqpqlXbfCNDyZS29hCzYAevJyHcigfytgWF0pRnjGiJeGHffQQTirhbK4T5KN1t26QkBxVYGD/uC/3G8QmHoZL58A+zp8yOhhvPUA8x+ZN9b8sj1TkBKDlRUip2tZpGVCWvNK41L+keRN5kRhYSxO9LaZf6Len7VWgTf2JEZiffxi7ZjDonqrMyoZeB6sbGq12J7Ldih3yB55wSfpqsMBXzaoriEyahTRTz2dSUVBO3m0/q7t1KdVznq5PvchMbLkrDt+fUaHD+hAu6gaAiEhSwBaKndZZSUCFCa7I98xJb9ZltUBtkxY56DjOBV0eJt/Znou/kgKhNJj6M9dxF2I5cAW3F1bKbh1boARcKtcEdkx4uro+otw+yPcO1ww=
  - secure: U6WfxeyUJAe09OsIstGD7ASN6l/rWCq9f5vzbt2q3IFHp4mflFcn5a4M0BpWUbFVk1fV+13zpEZbbm2FF9nckfY0ed2mlLPoAAros3xqU5KvxrI6LBI0dEgsEJpNsper1nksxH9lfonCbrYO1IXwONNbH5hKCD1d1IO3nArex7XSx7SD3UBDaL/JqaGrv4mKIhO1lgc/r2rRoTmzNw6qyXlLceN+/nR0ZKMNfnJ14U6YSAtEOgZUQehkPKJNQysTF2Ter6fQpYr532YDEduSZsb45glqcrDSyJd1v/6ntVv+Q+aN9/Lo4KAEjbK9DemN5MScJbiWQIJL4cAPQr9xS6bmak8Y2vw8uPGiMYFmcd5FKQAJvTYf6RCMj9/cKYIfmeqCuvc7hNFLy92MXLKoW7riKAB/MwR/Glwvce8rKIKUNI790OGSwGYMepPpUA59nru2EqqrtAfTDqCwCmTxUEev0+HUIkIUe3O8ciIr/Ewb2srMgSr7TY2W9yB65OZgSIDtuJvZfsQwKtN4JDidDp+eYCHcmZOuaQChy/T3hy0zV5h3VYieHkXBQ8S3Q326S4dB5g+rZ2/BxrIayzXI01HYfLPk4YO7xRqF6NfHsg6JaqNMu2SA+YKdlC7cLECe+auwgwTR8WOLlnT5KVv+aFU/R7tn3h0YwaXwws/X+z4=
